
import random

class RewardSystem:
    def __init__(self):
        self.nft_collection = [{'name': 'NFT #1: Witchbound Sigil', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #2: Fiery Sigil', 'rarity': 'common', 'type': 'portrait'}, {'name': 'NFT #3: Runed Banner', 'rarity': 'uncommon', 'type': 'spirit'}, {'name': 'NFT #4: Ancient Sigil', 'rarity': 'rare', 'type': 'mount'}, {'name': 'NFT #5: Fiery Sigil', 'rarity': 'uncommon', 'type': 'portrait'}, {'name': 'NFT #6: Shadow Banner', 'rarity': 'rare', 'type': 'artifact'}, {'name': 'NFT #7: Shadow Orb', 'rarity': 'legendary', 'type': 'artifact'}, {'name': 'NFT #8: Shadow Blade', 'rarity': 'common', 'type': 'artifact'}, {'name': 'NFT #9: Shadow Orb', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #10: Ancient Sigil', 'rarity': 'common', 'type': 'spirit'}, {'name': 'NFT #11: Fiery Orb', 'rarity': 'legendary', 'type': 'emblem'}, {'name': 'NFT #12: Ancient Blade', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #13: Shadow Idol', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #14: Fiery Blade', 'rarity': 'rare', 'type': 'spirit'}, {'name': 'NFT #15: Shadow Orb', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #16: Runed Idol', 'rarity': 'epic', 'type': 'emblem'}, {'name': 'NFT #17: Fiery Idol', 'rarity': 'rare', 'type': 'mount'}, {'name': 'NFT #18: Fiery Orb', 'rarity': 'rare', 'type': 'portrait'}, {'name': 'NFT #19: Runed Blade', 'rarity': 'rare', 'type': 'mount'}, {'name': 'NFT #20: Ancient Orb', 'rarity': 'epic', 'type': 'mount'}, {'name': 'NFT #21: Witchbound Banner', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #22: Witchbound Orb', 'rarity': 'uncommon', 'type': 'mount'}, {'name': 'NFT #23: Ancient Banner', 'rarity': 'epic', 'type': 'spirit'}, {'name': 'NFT #24: Ancient Banner', 'rarity': 'uncommon', 'type': 'artifact'}, {'name': 'NFT #25: Witchbound Blade', 'rarity': 'uncommon', 'type': 'artifact'}, {'name': 'NFT #26: Fiery Sigil', 'rarity': 'epic', 'type': 'emblem'}, {'name': 'NFT #27: Shadow Orb', 'rarity': 'rare', 'type': 'mount'}, {'name': 'NFT #28: Witchbound Sigil', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #29: Ancient Orb', 'rarity': 'epic', 'type': 'mount'}, {'name': 'NFT #30: Shadow Orb', 'rarity': 'uncommon', 'type': 'mount'}, {'name': 'NFT #31: Runed Orb', 'rarity': 'rare', 'type': 'mount'}, {'name': 'NFT #32: Fiery Banner', 'rarity': 'uncommon', 'type': 'mount'}, {'name': 'NFT #33: Fiery Orb', 'rarity': 'uncommon', 'type': 'spirit'}, {'name': 'NFT #34: Ancient Banner', 'rarity': 'epic', 'type': 'artifact'}, {'name': 'NFT #35: Shadow Banner', 'rarity': 'uncommon', 'type': 'mount'}, {'name': 'NFT #36: Shadow Blade', 'rarity': 'epic', 'type': 'artifact'}, {'name': 'NFT #37: Fiery Blade', 'rarity': 'common', 'type': 'mount'}, {'name': 'NFT #38: Runed Orb', 'rarity': 'legendary', 'type': 'portrait'}, {'name': 'NFT #39: Runed Blade', 'rarity': 'rare', 'type': 'artifact'}, {'name': 'NFT #40: Ancient Idol', 'rarity': 'common', 'type': 'mount'}, {'name': 'NFT #41: Ancient Idol', 'rarity': 'common', 'type': 'portrait'}, {'name': 'NFT #42: Shadow Blade', 'rarity': 'common', 'type': 'mount'}, {'name': 'NFT #43: Witchbound Idol', 'rarity': 'legendary', 'type': 'portrait'}, {'name': 'NFT #44: Shadow Idol', 'rarity': 'common', 'type': 'portrait'}, {'name': 'NFT #45: Fiery Blade', 'rarity': 'uncommon', 'type': 'artifact'}, {'name': 'NFT #46: Ancient Sigil', 'rarity': 'epic', 'type': 'artifact'}, {'name': 'NFT #47: Shadow Idol', 'rarity': 'legendary', 'type': 'artifact'}, {'name': 'NFT #48: Runed Sigil', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #49: Runed Sigil', 'rarity': 'epic', 'type': 'portrait'}, {'name': 'NFT #50: Fiery Blade', 'rarity': 'legendary', 'type': 'mount'}, {'name': 'NFT #51: Fiery Orb', 'rarity': 'rare', 'type': 'portrait'}, {'name': 'NFT #52: Runed Banner', 'rarity': 'uncommon', 'type': 'artifact'}, {'name': 'NFT #53: Ancient Idol', 'rarity': 'uncommon', 'type': 'portrait'}, {'name': 'NFT #54: Witchbound Sigil', 'rarity': 'uncommon', 'type': 'portrait'}, {'name': 'NFT #55: Runed Sigil', 'rarity': 'epic', 'type': 'artifact'}, {'name': 'NFT #56: Runed Sigil', 'rarity': 'common', 'type': 'artifact'}, {'name': 'NFT #57: Runed Banner', 'rarity': 'rare', 'type': 'artifact'}, {'name': 'NFT #58: Witchbound Orb', 'rarity': 'rare', 'type': 'artifact'}, {'name': 'NFT #59: Runed Orb', 'rarity': 'rare', 'type': 'spirit'}, {'name': 'NFT #60: Runed Orb', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #61: Fiery Orb', 'rarity': 'common', 'type': 'artifact'}, {'name': 'NFT #62: Shadow Orb', 'rarity': 'legendary', 'type': 'portrait'}, {'name': 'NFT #63: Fiery Orb', 'rarity': 'common', 'type': 'mount'}, {'name': 'NFT #64: Fiery Orb', 'rarity': 'rare', 'type': 'emblem'}, {'name': 'NFT #65: Runed Blade', 'rarity': 'epic', 'type': 'mount'}, {'name': 'NFT #66: Runed Idol', 'rarity': 'uncommon', 'type': 'artifact'}, {'name': 'NFT #67: Ancient Idol', 'rarity': 'uncommon', 'type': 'mount'}, {'name': 'NFT #68: Runed Blade', 'rarity': 'uncommon', 'type': 'spirit'}, {'name': 'NFT #69: Runed Blade', 'rarity': 'common', 'type': 'artifact'}, {'name': 'NFT #70: Runed Orb', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #71: Ancient Blade', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #72: Witchbound Idol', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #73: Ancient Banner', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #74: Ancient Banner', 'rarity': 'common', 'type': 'spirit'}, {'name': 'NFT #75: Runed Blade', 'rarity': 'epic', 'type': 'mount'}, {'name': 'NFT #76: Shadow Blade', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #77: Ancient Idol', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #78: Shadow Blade', 'rarity': 'uncommon', 'type': 'spirit'}, {'name': 'NFT #79: Witchbound Idol', 'rarity': 'epic', 'type': 'spirit'}, {'name': 'NFT #80: Witchbound Banner', 'rarity': 'legendary', 'type': 'portrait'}, {'name': 'NFT #81: Runed Blade', 'rarity': 'common', 'type': 'portrait'}, {'name': 'NFT #82: Witchbound Blade', 'rarity': 'common', 'type': 'artifact'}, {'name': 'NFT #83: Fiery Sigil', 'rarity': 'uncommon', 'type': 'emblem'}, {'name': 'NFT #84: Runed Blade', 'rarity': 'common', 'type': 'mount'}, {'name': 'NFT #85: Fiery Idol', 'rarity': 'common', 'type': 'portrait'}, {'name': 'NFT #86: Shadow Sigil', 'rarity': 'common', 'type': 'mount'}, {'name': 'NFT #87: Shadow Blade', 'rarity': 'uncommon', 'type': 'portrait'}, {'name': 'NFT #88: Ancient Sigil', 'rarity': 'rare', 'type': 'emblem'}, {'name': 'NFT #89: Ancient Blade', 'rarity': 'rare', 'type': 'mount'}, {'name': 'NFT #90: Fiery Banner', 'rarity': 'uncommon', 'type': 'portrait'}, {'name': 'NFT #91: Fiery Sigil', 'rarity': 'epic', 'type': 'spirit'}, {'name': 'NFT #92: Ancient Blade', 'rarity': 'legendary', 'type': 'portrait'}, {'name': 'NFT #93: Runed Idol', 'rarity': 'common', 'type': 'artifact'}, {'name': 'NFT #94: Witchbound Blade', 'rarity': 'rare', 'type': 'artifact'}, {'name': 'NFT #95: Ancient Sigil', 'rarity': 'epic', 'type': 'portrait'}, {'name': 'NFT #96: Shadow Sigil', 'rarity': 'legendary', 'type': 'spirit'}, {'name': 'NFT #97: Shadow Sigil', 'rarity': 'legendary', 'type': 'mount'}, {'name': 'NFT #98: Shadow Blade', 'rarity': 'uncommon', 'type': 'mount'}, {'name': 'NFT #99: Fiery Idol', 'rarity': 'common', 'type': 'emblem'}, {'name': 'NFT #100: Runed Banner', 'rarity': 'rare', 'type': 'portrait'}]
        self.item_pool = [{'name': 'Ashen Charm', 'type': 'potion', 'effect': 'Burn effect', 'rarity': 'uncommon'}, {'name': 'Ashen Scroll', 'type': 'relic', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Blessed Sword', 'type': 'potion', 'effect': '+5% attack speed', 'rarity': 'rare'}, {'name': 'Ashen Charm', 'type': 'relic', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Wyrm Shield', 'type': 'armor', 'effect': 'Cleanses curses', 'rarity': 'common'}, {'name': 'Blessed Helm', 'type': 'scroll', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Obsidian Scroll', 'type': 'scroll', 'effect': 'Burn effect', 'rarity': 'uncommon'}, {'name': 'Obsidian Flask', 'type': 'armor', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Blessed Flask', 'type': 'relic', 'effect': 'Burn effect', 'rarity': 'rare'}, {'name': 'Obsidian Flask', 'type': 'weapon', 'effect': 'Burn effect', 'rarity': 'rare'}, {'name': 'Wyrm Shield', 'type': 'weapon', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Vile Flask', 'type': 'relic', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Wyrm Shield', 'type': 'potion', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Ashen Helm', 'type': 'potion', 'effect': 'Cleanses curses', 'rarity': 'epic'}, {'name': 'Vile Scroll', 'type': 'armor', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'relic', 'effect': '+10% fire resistance', 'rarity': 'epic'}, {'name': 'Ashen Scroll', 'type': 'weapon', 'effect': '+15 HP regen', 'rarity': 'epic'}, {'name': 'Blessed Helm', 'type': 'scroll', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Obsidian Sword', 'type': 'potion', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Ashen Flask', 'type': 'scroll', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Blessed Helm', 'type': 'armor', 'effect': 'Increases stealth', 'rarity': 'rare'}, {'name': 'Wyrm Scroll', 'type': 'amulet', 'effect': 'Increases stealth', 'rarity': 'uncommon'}, {'name': 'Ashen Flask', 'type': 'scroll', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Obsidian Helm', 'type': 'amulet', 'effect': '+5% attack speed', 'rarity': 'epic'}, {'name': 'Vile Scroll', 'type': 'potion', 'effect': 'Burn effect', 'rarity': 'epic'}, {'name': 'Wyrm Sword', 'type': 'potion', 'effect': 'Cleanses curses', 'rarity': 'rare'}, {'name': 'Blessed Scroll', 'type': 'relic', 'effect': 'Cleanses curses', 'rarity': 'common'}, {'name': 'Vile Sword', 'type': 'scroll', 'effect': 'Cleanses curses', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'relic', 'effect': 'Increases stealth', 'rarity': 'uncommon'}, {'name': 'Wyrm Scroll', 'type': 'scroll', 'effect': 'Burn effect', 'rarity': 'rare'}, {'name': 'Ashen Charm', 'type': 'amulet', 'effect': 'Increases stealth', 'rarity': 'uncommon'}, {'name': 'Wyrm Sword', 'type': 'armor', 'effect': 'Burn effect', 'rarity': 'common'}, {'name': 'Wyrm Charm', 'type': 'weapon', 'effect': '+10% fire resistance', 'rarity': 'common'}, {'name': 'Wyrm Helm', 'type': 'weapon', 'effect': '+10% fire resistance', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'scroll', 'effect': 'Burn effect', 'rarity': 'uncommon'}, {'name': 'Vile Helm', 'type': 'amulet', 'effect': '+15 HP regen', 'rarity': 'uncommon'}, {'name': 'Obsidian Helm', 'type': 'weapon', 'effect': '+5% attack speed', 'rarity': 'uncommon'}, {'name': 'Wyrm Charm', 'type': 'weapon', 'effect': 'Burn effect', 'rarity': 'common'}, {'name': 'Vile Charm', 'type': 'scroll', 'effect': '+15 HP regen', 'rarity': 'uncommon'}, {'name': 'Vile Flask', 'type': 'potion', 'effect': '+5% attack speed', 'rarity': 'rare'}, {'name': 'Obsidian Scroll', 'type': 'armor', 'effect': 'Burn effect', 'rarity': 'rare'}, {'name': 'Wyrm Shield', 'type': 'scroll', 'effect': '+5% attack speed', 'rarity': 'rare'}, {'name': 'Ashen Charm', 'type': 'amulet', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Obsidian Charm', 'type': 'armor', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Ashen Charm', 'type': 'scroll', 'effect': '+15 HP regen', 'rarity': 'epic'}, {'name': 'Blessed Charm', 'type': 'relic', 'effect': 'Burn effect', 'rarity': 'common'}, {'name': 'Wyrm Flask', 'type': 'relic', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Wyrm Sword', 'type': 'armor', 'effect': '+15 HP regen', 'rarity': 'rare'}, {'name': 'Ashen Flask', 'type': 'weapon', 'effect': '+5% attack speed', 'rarity': 'rare'}, {'name': 'Obsidian Helm', 'type': 'armor', 'effect': '+10% fire resistance', 'rarity': 'epic'}, {'name': 'Obsidian Sword', 'type': 'weapon', 'effect': '+5% attack speed', 'rarity': 'rare'}, {'name': 'Wyrm Shield', 'type': 'potion', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Blessed Sword', 'type': 'scroll', 'effect': '+5% attack speed', 'rarity': 'epic'}, {'name': 'Vile Shield', 'type': 'armor', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Wyrm Flask', 'type': 'scroll', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Blessed Shield', 'type': 'relic', 'effect': 'Increases stealth', 'rarity': 'epic'}, {'name': 'Obsidian Helm', 'type': 'scroll', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Vile Sword', 'type': 'amulet', 'effect': '+15 HP regen', 'rarity': 'uncommon'}, {'name': 'Wyrm Sword', 'type': 'weapon', 'effect': '+15 HP regen', 'rarity': 'epic'}, {'name': 'Vile Helm', 'type': 'armor', 'effect': '+10% fire resistance', 'rarity': 'legendary'}, {'name': 'Ashen Helm', 'type': 'armor', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Wyrm Flask', 'type': 'armor', 'effect': 'Cleanses curses', 'rarity': 'rare'}, {'name': 'Wyrm Flask', 'type': 'amulet', 'effect': 'Cleanses curses', 'rarity': 'rare'}, {'name': 'Blessed Charm', 'type': 'scroll', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Obsidian Sword', 'type': 'relic', 'effect': 'Cleanses curses', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'potion', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'relic', 'effect': '+15 HP regen', 'rarity': 'legendary'}, {'name': 'Blessed Scroll', 'type': 'weapon', 'effect': '+5% attack speed', 'rarity': 'uncommon'}, {'name': 'Obsidian Scroll', 'type': 'amulet', 'effect': 'Cleanses curses', 'rarity': 'epic'}, {'name': 'Obsidian Helm', 'type': 'potion', 'effect': '+10% fire resistance', 'rarity': 'legendary'}, {'name': 'Ashen Scroll', 'type': 'amulet', 'effect': '+5% attack speed', 'rarity': 'uncommon'}, {'name': 'Vile Charm', 'type': 'amulet', 'effect': 'Cleanses curses', 'rarity': 'rare'}, {'name': 'Vile Sword', 'type': 'armor', 'effect': '+15 HP regen', 'rarity': 'uncommon'}, {'name': 'Blessed Flask', 'type': 'amulet', 'effect': 'Cleanses curses', 'rarity': 'epic'}, {'name': 'Vile Scroll', 'type': 'scroll', 'effect': 'Burn effect', 'rarity': 'epic'}, {'name': 'Ashen Shield', 'type': 'weapon', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Ashen Scroll', 'type': 'amulet', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Vile Charm', 'type': 'amulet', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'relic', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Obsidian Helm', 'type': 'potion', 'effect': 'Increases stealth', 'rarity': 'common'}, {'name': 'Vile Scroll', 'type': 'potion', 'effect': 'Cleanses curses', 'rarity': 'epic'}, {'name': 'Wyrm Shield', 'type': 'relic', 'effect': '+10% fire resistance', 'rarity': 'common'}, {'name': 'Wyrm Sword', 'type': 'armor', 'effect': 'Burn effect', 'rarity': 'uncommon'}, {'name': 'Blessed Scroll', 'type': 'armor', 'effect': '+10% fire resistance', 'rarity': 'uncommon'}, {'name': 'Obsidian Flask', 'type': 'weapon', 'effect': '+10% fire resistance', 'rarity': 'common'}, {'name': 'Blessed Scroll', 'type': 'relic', 'effect': '+15 HP regen', 'rarity': 'uncommon'}, {'name': 'Obsidian Charm', 'type': 'relic', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Obsidian Flask', 'type': 'armor', 'effect': '+15 HP regen', 'rarity': 'epic'}, {'name': 'Ashen Charm', 'type': 'scroll', 'effect': 'Increases stealth', 'rarity': 'epic'}, {'name': 'Blessed Shield', 'type': 'relic', 'effect': '+15 HP regen', 'rarity': 'rare'}, {'name': 'Wyrm Flask', 'type': 'amulet', 'effect': '+5% attack speed', 'rarity': 'common'}, {'name': 'Wyrm Scroll', 'type': 'relic', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Wyrm Scroll', 'type': 'weapon', 'effect': 'Burn effect', 'rarity': 'legendary'}, {'name': 'Wyrm Helm', 'type': 'weapon', 'effect': '+10% fire resistance', 'rarity': 'common'}, {'name': 'Vile Flask', 'type': 'potion', 'effect': 'Increases stealth', 'rarity': 'uncommon'}, {'name': 'Blessed Scroll', 'type': 'weapon', 'effect': 'Cleanses curses', 'rarity': 'epic'}, {'name': 'Vile Sword', 'type': 'weapon', 'effect': '+15 HP regen', 'rarity': 'common'}, {'name': 'Vile Sword', 'type': 'amulet', 'effect': 'Cleanses curses', 'rarity': 'uncommon'}, {'name': 'Blessed Sword', 'type': 'scroll', 'effect': 'Increases stealth', 'rarity': 'legendary'}, {'name': 'Wyrm Sword', 'type': 'armor', 'effect': 'Increases stealth', 'rarity': 'rare'}]
        self.currency_reward_range = (10, 75)  # RFN
        self.unlocked_features = []

    def give_reward(self, quest):
        reward = quest.get("reward", {})
        exp = reward.get("exp", 0)
        fame = reward.get("fame", 0)
        base_item = reward.get("item", "Basic Relic")
        rfn = random.randint(*self.currency_reward_range)

        # Losuj NFT jeśli fame >= 10
        nft = random.choice([n for n in self.nft_collection if n['rarity'] != 'common']) if fame >= 10 else None

        # Losuj przedmiot specjalny dla boss_battle
        item = random.choice([i for i in self.item_pool if i['rarity'] in ['epic', 'legendary']]) if quest.get('type') == 'boss_battle' else base_item

        print(f"🎁 Quest Reward:")
        print(f"✨ EXP: +{exp}, Fame: +{fame}")
        print(f"📦 Item: {item if isinstance(item, str) else item['name'] + ' (' + item['effect'] + ')'}")
        print(f"💰 RFN earned: +{rfn}")

        if nft:
            print(f"🖼️ NFT obtained: {nft['name']} [{nft['rarity']} - {nft['type']}]")

        if fame >= 15:
            unlock = "Ancient Vault Access"
            self.unlocked_features.append(unlock)
            print(f"🗺️ Feature Unlocked: {unlock}")
